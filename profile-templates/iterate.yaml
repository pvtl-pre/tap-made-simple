#@ load("@ytt:data","data")
#@ load("@ytt:base64","base64")
---
profile: iterate
ceip_policy_disclosed: true

shared:
  ingress_domain: #@ data.values.clusters.iterate_cluster.ingress_domain
  #!ingress_issuer: ""
  image_registry:
    project_path: #@ "{}/{}".format(data.values.registry.fqdn, data.values.registry.system_project)
    username: #@ data.values.registry.username
    password: #@ data.values.registry.password

#!buildservice:
  #!kp_default_repository: #@ "{}/{}/iterate/build-service".format(data.values.registry.fqdn, data.values.registry.system_project)
  #!kp_default_repository_username: #@ data.values.registry.username
  #!kp_default_repository_password: #@ data.values.registry.password
  #!exclude_dependencies: false

#!supply_chain: testing
#!supply_chain: basic

#!ootb_supply_chain_testing:
#!ootb_supply_chain_basic:
  #!registry:
    #!server: #@ data.values.registry.fqdn
    #!repository: #@ "{}/iterate/workloads".format(data.values.registry.system_project)
  #!gitops:
    #!ssh_secret: ""

#!cnrs:
  #!domain_name: #@ data.values.clusters.iterate_cluster.ingress_domain
  #!domain_template: "{{.Name}}-{{.Namespace}}.{{.Domain}}"
  #!default_tls_secret: "tap-install/wildcard"

#!appliveview_connector:
  #!backend:
    #!sslDisabled: false
    #!host: #@ "appliveview.{}".format(data.values.clusters.view_cluster.ingress_domain)
